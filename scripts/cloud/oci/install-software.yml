- hosts: linux_hosts
  become: true
  tasks:
    - name: Install Apache Web Server
      become: true
      package:
        name: 'httpd'
        state: latest
        update_cache: yes

    - name: Enable and Start Apache Web Server
      service:
        name: 'httpd.service'
        enabled: true
        state: started

    - name: Open http(s) ports (firewall)
      firewalld:
        port: "{{ item }}/tcp"
        state: enabled
        immediate: true
        permanent: true
      loop:
        - 80
        - 443
